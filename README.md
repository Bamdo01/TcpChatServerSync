# C# TCP λ™κΈ°μ‹ μ±„ν… μ„λ²„

.NET ν™κ²½μ—μ„ C#μΌλ΅ κµ¬ν„ν• TCP κΈ°λ°μ λ™κΈ°μ‹ λ©€ν‹° μ±„ν… μ„λ²„μ…λ‹λ‹¤. μ €μμ¤€ μ†μΌ“ ν”„λ΅κ·Έλλ°, λ™μ‹μ„± μ μ–΄, λ°μ΄ν„°λ² μ΄μ¤ μ—°λ™ λ° κΈ°λ³Έμ μΈ λ³΄μ• μ›μΉ™μ„ ν•™μµν•κ³  μ μ©ν•λ” κ²ƒμ„ λ©ν‘λ΅ μ μ‘λμ—μµλ‹λ‹¤.

## π“‘ μ£Όμ” κΈ°λ¥

* **νμ›κ°€μ…:** ID, μ•”νΈ, μ „ν™”λ²νΈ, μ„±λ³„, μƒλ…„μ›”μΌ μ •λ³΄λ¥Ό λ°›μ•„ μ‚¬μ©μλ¥Ό λ“±λ΅ν•©λ‹λ‹¤.
* **λ΅κ·ΈμΈ:** IDμ™€ μ•”νΈλ¥Ό κ²€μ¦ν•λ©°, μ„±κ³µ μ‹ μ±„ν… μ„λΉ„μ¤μ— μ ‘μ†ν•κ³  ν΄λΌμ΄μ–ΈνΈ λ©λ΅μ— μ¶”κ°€λ©λ‹λ‹¤.
* **μ‹¤μ‹κ°„ λ©€ν‹° μ±„ν…:** λ΅κ·ΈμΈλ μ‚¬μ©μλ” μμ‹ μ„ μ μ™Έν• λ‹¤λ¥Έ λ¨λ“  μ ‘μ†μμ—κ² λ©”μ‹μ§€λ¥Ό λ³΄λ‚΄κ³  λ°›μ„ μ μμµλ‹λ‹¤ (Broadcast).
* **μ„λ²„ κ΄€λ¦¬:** μ„λ²„ μ½μ†”μ—μ„ `online` λ…λ Ήμ–΄λ΅ ν„μ¬ μ ‘μ†μ λ©λ΅μ„ ν™•μΈν•κ±°λ‚ `exit`μΌλ΅ μ„λ²„λ¥Ό μΆ…λ£ν•  μ μμµλ‹λ‹¤.

## π› οΈ κΈ°μ  μ¤νƒ λ° μ•„ν‚¤ν…μ²

* **μ–Έμ–΄ λ° ν”„λ μ„μ›ν¬:** C# (.NET)
* **λ°μ΄ν„°λ² μ΄μ¤:** MySQL (with `MySqlConnector`)
* **ν•µμ‹¬ κΈ°μ :** TCP/IP μ†μΌ“ ν”„λ΅κ·Έλλ° (`TcpListener`, `TcpClient`), λ©€ν‹°μ¤λ λ”© (`Thread`)

### μ•„ν‚¤ν…μ² λ‹¤μ΄μ–΄κ·Έλ¨

[μ—¬κΈ°μ— μ•„ν‚¤ν…μ² λ‹¤μ΄μ–΄κ·Έλ¨ μ΄λ―Έμ§€λ¥Ό μ‚½μ…ν•μ„Έμ”]

### μ£Όμ” μ„¤κ³„ νΉμ§•
* **κ³„μΈµν• μ•„ν‚¤ν…μ²:** `Core`, `Network`, `Database`, `Managers` λ“± κΈ°λ¥λ³„λ΅ ν”„λ΅μ νΈλ¥Ό λ¶„λ¦¬ν•μ—¬ μ½”λ“μ μ‘μ§‘λ„μ™€ μ¬μ‚¬μ©μ„±μ„ λ†’μ€μµλ‹λ‹¤.
* **ν΄λΌμ΄μ–ΈνΈλ‹Ή μ¤λ λ“ λ¨λΈ:** κ° ν΄λΌμ΄μ–ΈνΈμ μ—°κ²°μ„ λ³„λ„μ μ¤λ λ“μ—μ„ μ²λ¦¬ν•μ—¬ λ™μ‹ μ”μ²­μ— λ€μ‘ν•©λ‹λ‹¤.
* **μ¤λ λ“ μ•μ „μ„±:** κ³µμ  μμ›μΈ μ ‘μ†μ λ©λ΅(`connectedClients`)μ— `lock`μ„ μ μ©ν•μ—¬ μ—¬λ¬ μ¤λ λ“μ—μ„μ λ™μ‹ μ ‘κ·ΌμΌλ΅ μΈν• λ¬Έμ λ¥Ό λ°©μ§€ν•©λ‹λ‹¤.
* **λ³΄μ•:**
    * **λΉ„λ°€λ²νΈ μ•”νΈν™”:** `SHA256` ν•΄μ‹μ™€ `Salt`λ¥Ό μ΄μ©ν•΄ λ‹¨λ°©ν–¥ μ•”νΈν™”λ¥Ό κµ¬ν„ν•μ—¬ μ‚¬μ©μ μ •λ³΄λ¥Ό λ³΄νΈν•©λ‹λ‹¤.
    * **SQL Injection λ°©μ§€:** λ¨λ“  λ°μ΄ν„°λ² μ΄μ¤ μΏΌλ¦¬μ— νλΌλ―Έν„°ν™”λ μΏΌλ¦¬λ¥Ό μ‚¬μ©ν•μ—¬ μ™Έλ¶€ κ³µκ²©μΌλ΅λ¶€ν„° μ•μ „ν•κ² λ³΄νΈν•©λ‹λ‹¤.
* **μ»¤μ¤ν…€ λ°”μ΄λ„λ¦¬ ν”„λ΅ν† μ½:** λ°”μ΄νΈ λ‹¨μ„μ μμ²΄ ν”„λ΅ν† μ½μ„ `PacketBuilder`μ™€ `PacketParser`λ΅ μ •μν•μ—¬ ν†µμ‹ ν•©λ‹λ‹¤.

## π’Ύ λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§
`DbManager.InitializeDatabase()` λ©”μ„λ“μ— μν•΄ μ„λ²„ μ‹μ‘ μ‹ μ•„λ ν…μ΄λΈ”λ“¤μ΄ μλ™μΌλ΅ μƒμ„±λ©λ‹λ‹¤.
```sql
-- μ‚¬μ©μ μ •λ³΄ ν…μ΄λΈ”
CREATE TABLE IF NOT EXISTS users (
    id INT PRIMARY KEY AUTO_INCREMENT,
    userid VARCHAR(50) NOT NULL UNIQUE,
    password VARCHAR(100) NOT NULL,
    salt VARCHAR(100) NOT NULL,
    phone VARCHAR(20),
    gender VARCHAR(10) NOT NULL,
    birthdate DATE NOT NULL
);

-- μ±„ν… λ©”μ‹μ§€ λ΅κ·Έ ν…μ΄λΈ”
CREATE TABLE IF NOT EXISTS chat_messages (
    id INT PRIMARY KEY AUTO_INCREMENT,
    sender_id VARCHAR(50) NOT NULL,
    message TEXT NOT NULL,
    sent_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
